This is awful code but transparency is good.
